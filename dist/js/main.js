var DrillDownMenuItem=Backbone.Model.extend({}),DrillDownMenuItemView=Backbone.View.extend({tagName:"li",template:_.template("<a><%= title %></a>"),events:{"click a":"open"},initialize:function(){this.listenTo(this.model,"add",this.addItem)},render:function(){return this.$el.html(this.template({title:this.model.attributes.title})),this.model instanceof DrillDownMenuItems&&(this.$list=$("<ul></ul>"),this.$list.addClass("dropdown-menu"),this.$el.append(this.$list)),this},addItem:function(a){this.$list&&this.$list.append(new DrillDownMenuItemView({model:a}).render().el)},open:function(a){this.model instanceof DrillDownMenuItems&&(a.stopPropagation(),this.$el.parent().addClass("dropdown-menu-hide"))}}),DrillDownMenuItems=Backbone.Model.extend({initialize:function(){this.collection=new Backbone.Collection},add:function(a){this.collection.add(a),this.trigger("add",a)}}),DrillDownMenuView=Backbone.View.extend({tagName:"ul",className:"dropdown-menu",initialize:function(a){this.itemViews=[],this.listenTo(a.items,"add",this.addOne)},render:function(){return this},addOne:function(a){var b=new DrillDownMenuItemView({model:a});this.itemViews.push(b),this.$el.append(b.render().el)},getItemView:function(a){return this.itemViews[a]},show:function(){}});